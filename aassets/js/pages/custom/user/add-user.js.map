{"version":3,"sources":["custom/user/add-user.js"],"names":["KTUserAdd","formEl","validator","wizard","init","btn","$","KTWizard","startStep","clickableSteps","on","wizardObj","form","stop","KTUtil","scrollTop","validate","ignore","rules","profile_avatar","profile_first_name","required","profile_last_name","profile_phone","profile_email","email","invalidHandler","event","swal","fire","title","text","type","buttonStyling","confirmButtonClass","submitHandler","find","e","preventDefault","KTApp","progress","ajaxSubmit","success","unprogress","KTAvatar","jQuery","document","ready"],"mappings":"AAAA,aAGA,IAAIA,UAAY,WAEf,IACIC,EACAC,EACAC,EAuGJ,MAAO,CAENC,KAAM,WAnCU,IACZC,EAmCHJ,EAASK,EAAE,sBApGZH,EAAS,IAAII,SAAS,mBAAoB,CACzCC,UAAW,EACXC,gBAAgB,KAIVC,GAAG,aAAc,SAASC,IACP,IAArBT,EAAUU,QACbD,EAAUE,SAKZV,EAAOO,GAAG,SAAU,SAASP,GAC5BW,OAAOC,cAKRb,EAAYD,EAAOe,SAAS,CAE3BC,OAAQ,UAGRC,MAAO,CAENC,eAAgB,GAGhBC,mBAAoB,CACnBC,UAAU,GAEXC,kBAAmB,CAClBD,UAAU,GAEXE,cAAe,CACdF,UAAU,GAEXG,cAAe,CACdH,UAAU,EACVI,OAAO,IAKTC,eAAgB,SAASC,EAAOzB,GAC/BY,OAAOC,YAEPa,KAAKC,KAAK,CACTC,MAAS,GACTC,KAAQ,iEACRC,KAAQ,QACRC,eAAiB,EACjBC,mBAAsB,mCAKxBC,cAAe,SAAUvB,QAOtBP,EAAMJ,EAAOmC,KAAK,yCAElB1B,GAAG,QAAS,SAAS2B,GACxBA,EAAEC,iBAEEpC,EAAUU,SAEb2B,MAAMC,SAASnC,GAIfJ,EAAOwC,WAAW,CACjBC,QAAS,WACRH,MAAMI,WAAWtC,GAGjBuB,KAAKC,KAAK,CACTC,MAAS,GACTC,KAAQ,mDACRC,KAAQ,UACRE,mBAAsB,4BASlB,IAAIU,SAAS,wBAzGR,GAyHhBC,OAAOC,UAAUC,MAAM,WACtB/C,UAAUI","file":"add-user.js","sourcesContent":["\"use strict\";\r\n\r\n// Class definition\r\nvar KTUserAdd = function () {\r\n\t// Base elements\r\n\tvar wizardEl;\r\n\tvar formEl;\r\n\tvar validator;\r\n\tvar wizard;\r\n\tvar avatar;\r\n\r\n\t// Private functions\r\n\tvar initWizard = function () {\r\n\t\t// Initialize form wizard\r\n\t\twizard = new KTWizard('kt_user_add_user', {\r\n\t\t\tstartStep: 1, // initial active step number\r\n\t\t\tclickableSteps: true  // allow step clicking\r\n\t\t});\r\n\r\n\t\t// Validation before going to next page\r\n\t\twizard.on('beforeNext', function(wizardObj) {\r\n\t\t\tif (validator.form() !== true) {\r\n\t\t\t\twizardObj.stop();  // don't go to the next step\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t\t// Change event\r\n\t\twizard.on('change', function(wizard) {\r\n\t\t\tKTUtil.scrollTop();\r\n\t\t});\r\n\t}\r\n\r\n\tvar initValidation = function() {\r\n\t\tvalidator = formEl.validate({\r\n\t\t\t// Validate only visible fields\r\n\t\t\tignore: \":hidden\",\r\n\r\n\t\t\t// Validation rules\r\n\t\t\trules: {\r\n\t\t\t\t// Step 1\r\n\t\t\t\tprofile_avatar: {\r\n\t\t\t\t\t//required: true\r\n\t\t\t\t},\r\n\t\t\t\tprofile_first_name: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t},\r\n\t\t\t\tprofile_last_name: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t},\r\n\t\t\t\tprofile_phone: {\r\n\t\t\t\t\trequired: true\r\n\t\t\t\t},\r\n\t\t\t\tprofile_email: {\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\temail: true\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// Display error\r\n\t\t\tinvalidHandler: function(event, validator) {\r\n\t\t\t\tKTUtil.scrollTop();\r\n\r\n\t\t\t\tswal.fire({\r\n\t\t\t\t\t\"title\": \"\",\r\n\t\t\t\t\t\"text\": \"There are some errors in your submission. Please correct them.\",\r\n\t\t\t\t\t\"type\": \"error\",\r\n\t\t\t\t\t\"buttonStyling\": false,\r\n\t\t\t\t\t\"confirmButtonClass\": \"btn btn-brand btn-sm btn-bold\"\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// Submit valid form\r\n\t\t\tsubmitHandler: function (form) {\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tvar initSubmit = function() {\r\n\t\tvar btn = formEl.find('[data-ktwizard-type=\"action-submit\"]');\r\n\r\n\t\tbtn.on('click', function(e) {\r\n\t\t\te.preventDefault();\r\n\r\n\t\t\tif (validator.form()) {\r\n\t\t\t\t// See: src\\js\\framework\\base\\app.js\r\n\t\t\t\tKTApp.progress(btn);\r\n\t\t\t\t//KTApp.block(formEl);\r\n\r\n\t\t\t\t// See: http://malsup.com/jquery/form/#ajaxSubmit\r\n\t\t\t\tformEl.ajaxSubmit({\r\n\t\t\t\t\tsuccess: function() {\r\n\t\t\t\t\t\tKTApp.unprogress(btn);\r\n\t\t\t\t\t\t//KTApp.unblock(formEl);\r\n\r\n\t\t\t\t\t\tswal.fire({\r\n\t\t\t\t\t\t\t\"title\": \"\",\r\n\t\t\t\t\t\t\t\"text\": \"The application has been successfully submitted!\",\r\n\t\t\t\t\t\t\t\"type\": \"success\",\r\n\t\t\t\t\t\t\t\"confirmButtonClass\": \"btn btn-secondary\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tvar initUserForm = function() {\r\n\t\tavatar = new KTAvatar('kt_user_add_avatar');\r\n\t}\r\n\r\n\treturn {\r\n\t\t// public functions\r\n\t\tinit: function() {\r\n\t\t\tformEl = $('#kt_user_add_form');\r\n\r\n\t\t\tinitWizard();\r\n\t\t\tinitValidation();\r\n\t\t\tinitSubmit();\r\n\t\t\tinitUserForm();\r\n\t\t}\r\n\t};\r\n}();\r\n\r\njQuery(document).ready(function() {\r\n\tKTUserAdd.init();\r\n});\r\n"]}