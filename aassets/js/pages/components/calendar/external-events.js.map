{"version":3,"sources":["components/calendar/external-events.js"],"names":["KTCalendarExternalEvents","init","todayDate","YM","YESTERDAY","TODAY","TOMORROW","calendarEl","containerEl","$","each","this","data","title","trim","text","stick","classNames","description","moment","startOf","format","clone","subtract","add","document","getElementById","Draggable","FullCalendarInteraction","itemSelector","eventData","eventEl","FullCalendar","Calendar","plugins","isRTL","KTUtil","header","left","center","right","height","contentHeight","aspectRatio","nowIndicator","now","views","dayGridMonth","buttonText","timeGridWeek","timeGridDay","defaultView","defaultDate","droppable","editable","eventLimit","navLinks","events","start","className","end","id","url","drop","arg","is","draggedEl","remove","eventRender","info","element","el","event","extendedProps","hasClass","KTApp","initPopover","find","append","lenght","render","jQuery","ready"],"mappings":"AAAA,aAEA,IAAIA,yBA8LO,CAEHC,KAAM,WAlLS,IACXC,EACAC,EACAC,EACAC,EACAC,EAEAC,EACAC,EAnBJC,EAAE,qDAAqDC,KAAK,WAExDD,EAAEE,MAAMC,KAAK,QAAS,CAClBC,MAAOJ,EAAEK,KAAKL,EAAEE,MAAMI,QACtBC,OAAO,EACPC,WAAY,CAACR,EAAEE,MAAMC,KAAK,UAC1BM,YAAa,+CAMjBhB,EAAYiB,SAASC,QAAQ,OAC7BjB,EAAKD,EAAUmB,OAAO,WACtBjB,EAAYF,EAAUoB,QAAQC,SAAS,EAAG,OAAOF,OAAO,cACxDhB,EAAQH,EAAUmB,OAAO,cACzBf,EAAWJ,EAAUoB,QAAQE,IAAI,EAAG,OAAOH,OAAO,cAElDd,EAAakB,SAASC,eAAe,eACrClB,EAAciB,SAASC,eAAe,+BAI1C,IAAIC,EAFYC,wBAAwBD,WAE1BnB,EAAa,CACvBqB,aAAc,uBACdC,UAAW,SAASC,GAChB,OAAOtB,EAAEsB,GAASnB,KAAK,YAIhB,IAAIoB,aAAaC,SAAS1B,EAAY,CACjD2B,QAAS,CAAE,cAAe,UAAW,WAAY,QAEjDC,MAAOC,OAAOD,QACdE,OAAQ,CACJC,KAAM,kBACNC,OAAQ,QACRC,MAAO,yCAGXC,OAAQ,IACRC,cAAe,IACfC,YAAa,EAEbC,cAAc,EACdC,IAAKxC,EAAQ,YAEbyC,MAAO,CACHC,aAAc,CAAEC,WAAY,SAC5BC,aAAc,CAAED,WAAY,QAC5BE,YAAa,CAAEF,WAAY,QAG/BG,YAAa,eACbC,YAAa/C,EAEbgD,WAAW,EACXC,UAAU,EACVC,YAAY,EACZC,UAAU,EACVC,OAAQ,CACJ,CACI5C,MAAO,gBACP6C,MAAOvD,EAAK,MACZe,YAAa,4CACbyC,UAAW,0CAEf,CACI9C,MAAO,YACP6C,MAAOvD,EAAK,eACZe,YAAa,0CACb0C,IAAKzD,EAAK,MACVwD,UAAW,oBAEf,CACI9C,MAAO,eACP6C,MAAOvD,EAAK,MACZe,YAAa,qCACb0C,IAAKzD,EAAK,MACVwD,UAAW,oBAEf,CACI9C,MAAO,kCACP6C,MAAOvD,EAAK,MACZe,YAAa,oCACb0C,IAAKzD,EAAK,MACVwD,UAAW,yCAEf,CACI9C,MAAO,SACP6C,MAAOvD,EAAK,MACZe,YAAa,2CACb0C,IAAKzD,EAAK,OAEd,CACI0D,GAAI,IACJhD,MAAO,kBACP6C,MAAOvD,EAAK,eACZe,YAAa,4CACbyC,UAAW,mBAEf,CACIE,GAAI,IACJhD,MAAO,kBACPK,YAAa,qCACbwC,MAAOvD,EAAK,gBAEhB,CACIU,MAAO,aACP6C,MAAOtD,EACPwD,IAAKtD,EACLY,YAAa,2CACbyC,UAAW,kBAEf,CACI9C,MAAO,UACP6C,MAAOrD,EAAQ,YACfuD,IAAKvD,EAAQ,YACba,YAAa,yCAEjB,CACIL,MAAO,QACP6C,MAAOrD,EAAQ,YACfsD,UAAW,gBACXzC,YAAa,yCAEjB,CACIL,MAAO,UACP6C,MAAOrD,EAAQ,YACfsD,UAAW,mBACXzC,YAAa,wCAEjB,CACIL,MAAO,aACP6C,MAAOrD,EAAQ,YACfsD,UAAW,gBACXzC,YAAa,4CAEjB,CACIL,MAAO,SACP6C,MAAOpD,EAAW,YAClBqD,UAAW,uCACXzC,YAAa,4CAEjB,CACIL,MAAO,iBACP6C,MAAOpD,EAAW,YAClBqD,UAAW,mBACXzC,YAAa,qCAEjB,CACIL,MAAO,mBACPiD,IAAK,qBACLJ,MAAOvD,EAAK,MACZwD,UAAW,qCACXzC,YAAa,uCAIrB6C,KAAM,SAASC,GAEPvD,EAAE,uCAAuCwD,GAAG,aAE5CxD,EAAEuD,EAAIE,WAAWC,UAIzBC,YAAa,SAASC,GAClB,IAAIC,EAAU7D,EAAE4D,EAAKE,IAEjBF,EAAKG,MAAMC,eAAiBJ,EAAKG,MAAMC,cAAcvD,cACjDoD,EAAQI,SAAS,sBACjBJ,EAAQ1D,KAAK,UAAWyD,EAAKG,MAAMC,cAAcvD,aACjDoD,EAAQ1D,KAAK,YAAa,OAC1B+D,MAAMC,YAAYN,IACXA,EAAQI,SAAS,sBACxBJ,EAAQO,KAAK,aAAaC,OAAO,+BAAiCT,EAAKG,MAAMC,cAAcvD,YAAc,UACnD,IAA/CoD,EAAQO,KAAK,uBAAuBE,QAC3CT,EAAQO,KAAK,uBAAuBC,OAAO,+BAAiCT,EAAKG,MAAMC,cAAcvD,YAAc,cAM1H8D,WAYjBC,OAAOxD,UAAUyD,MAAM,WACnBlF,yBAAyBC","file":"external-events.js","sourcesContent":["\"use strict\";\r\n\r\nvar KTCalendarExternalEvents = function() {\r\n\r\n    var initExternalEvents = function() {\r\n        $('#kt_calendar_external_events .fc-draggable-handle').each(function() {\r\n            // store data so the calendar knows to render an event upon drop\r\n            $(this).data('event', {\r\n                title: $.trim($(this).text()), // use the element's text as the event title\r\n                stick: true, // maintain when user navigates (see docs on the renderEvent method)\r\n                classNames: [$(this).data('color')],\r\n                description: 'Lorem ipsum dolor eius mod tempor labore'\r\n            });\r\n        });\r\n    }\r\n\r\n    var initCalendar = function() {\r\n        var todayDate = moment().startOf('day');\r\n        var YM = todayDate.format('YYYY-MM');\r\n        var YESTERDAY = todayDate.clone().subtract(1, 'day').format('YYYY-MM-DD');\r\n        var TODAY = todayDate.format('YYYY-MM-DD');\r\n        var TOMORROW = todayDate.clone().add(1, 'day').format('YYYY-MM-DD');\r\n\r\n        var calendarEl = document.getElementById('kt_calendar');\r\n        var containerEl = document.getElementById('kt_calendar_external_events');\r\n\r\n        var Draggable = FullCalendarInteraction.Draggable;\r\n\r\n        new Draggable(containerEl, {\r\n            itemSelector: '.fc-draggable-handle',\r\n            eventData: function(eventEl) {\r\n                return $(eventEl).data('event');\r\n            }   \r\n        });\r\n\r\n        var calendar = new FullCalendar.Calendar(calendarEl, {\r\n            plugins: [ 'interaction', 'dayGrid', 'timeGrid', 'list' ],\r\n\r\n            isRTL: KTUtil.isRTL(),\r\n            header: {\r\n                left: 'prev,next today',\r\n                center: 'title',\r\n                right: 'dayGridMonth,timeGridWeek,timeGridDay'\r\n            },\r\n\r\n            height: 800,\r\n            contentHeight: 780,\r\n            aspectRatio: 3,  // see: https://fullcalendar.io/docs/aspectRatio\r\n\r\n            nowIndicator: true,\r\n            now: TODAY + 'T09:25:00', // just for demo\r\n\r\n            views: {\r\n                dayGridMonth: { buttonText: 'month' },\r\n                timeGridWeek: { buttonText: 'week' },\r\n                timeGridDay: { buttonText: 'day' }\r\n            },\r\n\r\n            defaultView: 'dayGridMonth',\r\n            defaultDate: TODAY,\r\n\r\n            droppable: true, // this allows things to be dropped onto the calendar\r\n            editable: true,\r\n            eventLimit: true, // allow \"more\" link when too many events\r\n            navLinks: true,\r\n            events: [\r\n                {\r\n                    title: 'All Day Event',\r\n                    start: YM + '-01',\r\n                    description: 'Toto lorem ipsum dolor sit incid idunt ut',\r\n                    className: \"fc-event-danger fc-event-solid-warning\"  \r\n                },\r\n                {\r\n                    title: 'Reporting',\r\n                    start: YM + '-14T13:30:00',\r\n                    description: 'Lorem ipsum dolor incid idunt ut labore',\r\n                    end: YM + '-14',\r\n                    className: \"fc-event-success\"\r\n                },\r\n                {\r\n                    title: 'Company Trip',\r\n                    start: YM + '-02',\r\n                    description: 'Lorem ipsum dolor sit tempor incid',\r\n                    end: YM + '-03',\r\n                    className: \"fc-event-primary\"\r\n                },\r\n                {\r\n                    title: 'ICT Expo 2017 - Product Release',\r\n                    start: YM + '-03',\r\n                    description: 'Lorem ipsum dolor sit tempor inci',\r\n                    end: YM + '-05',\r\n                    className: \"fc-event-light fc-event-solid-primary\"\r\n                },\r\n                {\r\n                    title: 'Dinner',\r\n                    start: YM + '-12',\r\n                    description: 'Lorem ipsum dolor sit amet, conse ctetur',\r\n                    end: YM + '-10'\r\n                },\r\n                {\r\n                    id: 999,\r\n                    title: 'Repeating Event',\r\n                    start: YM + '-09T16:00:00',\r\n                    description: 'Lorem ipsum dolor sit ncididunt ut labore',\r\n                    className: \"fc-event-danger\"\r\n                },\r\n                {\r\n                    id: 1000,\r\n                    title: 'Repeating Event',\r\n                    description: 'Lorem ipsum dolor sit amet, labore',\r\n                    start: YM + '-16T16:00:00'\r\n                },\r\n                {\r\n                    title: 'Conference',\r\n                    start: YESTERDAY,\r\n                    end: TOMORROW,\r\n                    description: 'Lorem ipsum dolor eius mod tempor labore',\r\n                    className: \"fc-event-brand\"\r\n                },\r\n                {\r\n                    title: 'Meeting',\r\n                    start: TODAY + 'T10:30:00',\r\n                    end: TODAY + 'T12:30:00',\r\n                    description: 'Lorem ipsum dolor eiu idunt ut labore'\r\n                },\r\n                {\r\n                    title: 'Lunch',\r\n                    start: TODAY + 'T12:00:00',\r\n                    className: \"fc-event-info\",\r\n                    description: 'Lorem ipsum dolor sit amet, ut labore'\r\n                },\r\n                {\r\n                    title: 'Meeting',\r\n                    start: TODAY + 'T14:30:00',\r\n                    className: \"fc-event-warning\",\r\n                    description: 'Lorem ipsum conse ctetur adipi scing'\r\n                },\r\n                {\r\n                    title: 'Happy Hour',\r\n                    start: TODAY + 'T17:30:00',\r\n                    className: \"fc-event-info\",\r\n                    description: 'Lorem ipsum dolor sit amet, conse ctetur'\r\n                },\r\n                {\r\n                    title: 'Dinner',\r\n                    start: TOMORROW + 'T05:00:00',\r\n                    className: \"fc-event-solid-danger fc-event-light\",\r\n                    description: 'Lorem ipsum dolor sit ctetur adipi scing'\r\n                },\r\n                {\r\n                    title: 'Birthday Party',\r\n                    start: TOMORROW + 'T07:00:00',\r\n                    className: \"fc-event-primary\",\r\n                    description: 'Lorem ipsum dolor sit amet, scing'\r\n                },\r\n                {\r\n                    title: 'Click for Google',\r\n                    url: 'http://google.com/',\r\n                    start: YM + '-28',\r\n                    className: \"fc-event-solid-info fc-event-light\",\r\n                    description: 'Lorem ipsum dolor sit amet, labore'\r\n                }\r\n            ],\r\n\r\n            drop: function(arg) {\r\n                // is the \"remove after drop\" checkbox checked?\r\n                if ($('#kt_calendar_external_events_remove').is(':checked')) {\r\n                    // if so, remove the element from the \"Draggable Events\" list\r\n                    $(arg.draggedEl).remove();\r\n                }\r\n            },\r\n\r\n            eventRender: function(info) {\r\n                var element = $(info.el);\r\n\r\n                if (info.event.extendedProps && info.event.extendedProps.description) {\r\n                    if (element.hasClass('fc-day-grid-event')) {\r\n                        element.data('content', info.event.extendedProps.description);\r\n                        element.data('placement', 'top');\r\n                        KTApp.initPopover(element);\r\n                    } else if (element.hasClass('fc-time-grid-event')) {\r\n                        element.find('.fc-title').append('<div class=\"fc-description\">' + info.event.extendedProps.description + '</div>'); \r\n                    } else if (element.find('.fc-list-item-title').lenght !== 0) {\r\n                        element.find('.fc-list-item-title').append('<div class=\"fc-description\">' + info.event.extendedProps.description + '</div>'); \r\n                    }\r\n                } \r\n            }\r\n        });\r\n\r\n        calendar.render();        \r\n    }\r\n\r\n    return {\r\n        //main function to initiate the module\r\n        init: function() {\r\n            initExternalEvents();\r\n            initCalendar(); \r\n        }\r\n    };\r\n}();\r\n\r\njQuery(document).ready(function() {\r\n    KTCalendarExternalEvents.init();\r\n});"]}