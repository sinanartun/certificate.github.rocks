{"version":3,"sources":["directionality/plugin.min.js"],"names":["i","u","n","t","a","e","r","tinymce","util","Tools","resolve","c","o","dom","selection","getSelectedBlocks","length","getAttrib","each","getParent","parentNode","getRoot","setAttrib","nodeChanged","f","l","fold","is","isSome","isNone","getOr","s","getOrThunk","N","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","bind","exists","forall","filter","equals","m","equals_","toArray","toString","Object","freeze","T","p","fromDom","element","setActive","window","getComputedStyle","getPropertyValue","A","ownerDocument","body","contains","w","g","on","off","O","y","h","fromHtml","document","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromTag","fromText","createTextNode","fromPoint","D","elementFromPoint","_","Array","prototype","isPrototypeOf","constructor","name","String","C","slice","from","Node","ATTRIBUTE_NODE","CDATA_SECTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","ELEMENT_NODE","TEXT_NODE","PROCESSING_INSTRUCTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","NOTATION_NODE","Function","nodeType","style","add","addCommand","d","ui","registry","addToggleButton","tooltip","icon","onAction","execCommand","onSetup","S"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function(i){\"use strict\";function n(){}function u(n){return function(){return n}}function t(){return a}var e,r=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),c=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),o=function(n,t){var e,r=n.dom,o=n.selection.getSelectedBlocks();o.length&&(e=r.getAttrib(o[0],\"dir\"),c.each(o,function(n){r.getParent(n.parentNode,'*[dir=\"'+t+'\"]',r.getRoot())||r.setAttrib(n,\"dir\",e!==t?t:null)}),n.nodeChanged())},d=function(n){n.addCommand(\"mceDirectionLTR\",function(){o(n,\"ltr\")}),n.addCommand(\"mceDirectionRTL\",function(){o(n,\"rtl\")})},f=u(!1),l=u(!0),a=(e={fold:function(n,t){return n()},is:f,isSome:f,isNone:l,getOr:s,getOrThunk:N,getOrDie:function(n){throw new Error(n||\"error: getOrDie called on none.\")},getOrNull:u(null),getOrUndefined:u(undefined),or:s,orThunk:N,map:t,each:n,bind:t,exists:f,forall:l,filter:t,equals:m,equals_:m,toArray:function(){return[]},toString:u(\"none()\")},Object.freeze&&Object.freeze(e),e);function m(n){return n.isNone()}function N(n){return n()}function s(n){return n}function g(n,t){var e=n.dom(),r=i.window.getComputedStyle(e).getPropertyValue(t),o=\"\"!==r||function(n){var t=A(n)?n.dom().parentNode:n.dom();return t!==undefined&&null!==t&&t.ownerDocument.body.contains(t)}(n)?r:w(e,t);return null===o?undefined:o}function T(t,r){return function(e){function n(n){var t=p.fromDom(n.element);e.setActive(function(n){return\"rtl\"===g(n,\"direction\")?\"rtl\":\"ltr\"}(t)===r)}return t.on(\"NodeChange\",n),function(){return t.off(\"NodeChange\",n)}}}var E,O,y=function(e){function n(){return o}function t(n){return n(e)}var r=u(e),o={fold:function(n,t){return t(e)},is:function(n){return e===n},isSome:l,isNone:f,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:n,orThunk:n,map:function(n){return y(n(e))},each:function(n){n(e)},bind:t,exists:t,forall:t,filter:function(n){return n(e)?o:a},toArray:function(){return[e]},toString:function(){return\"some(\"+e+\")\"},equals:function(n){return n.is(e)},equals_:function(n,t){return n.fold(f,function(n){return t(e,n)})}};return o},D=function(n){return null===n||n===undefined?a:y(n)},h=function(n){if(null===n||n===undefined)throw new Error(\"Node cannot be null or undefined\");return{dom:u(n)}},p={fromHtml:function(n,t){var e=(t||i.document).createElement(\"div\");if(e.innerHTML=n,!e.hasChildNodes()||1<e.childNodes.length)throw i.console.error(\"HTML does not have a single root node\",n),new Error(\"HTML must have a single root node\");return h(e.childNodes[0])},fromTag:function(n,t){var e=(t||i.document).createElement(n);return h(e)},fromText:function(n,t){var e=(t||i.document).createTextNode(n);return h(e)},fromDom:h,fromPoint:function(n,t,e){var r=n.dom();return D(r.elementFromPoint(t,e)).map(h)}},_=(E=\"function\",function(n){return function(n){if(null===n)return\"null\";var t=typeof n;return\"object\"==t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&\"Array\"===n.constructor.name)?\"array\":\"object\"==t&&(String.prototype.isPrototypeOf(n)||n.constructor&&\"String\"===n.constructor.name)?\"string\":t}(n)===E}),v=Array.prototype.slice,C=(_(Array.from)&&Array.from,i.Node.ATTRIBUTE_NODE,i.Node.CDATA_SECTION_NODE,i.Node.COMMENT_NODE,i.Node.DOCUMENT_NODE,i.Node.DOCUMENT_TYPE_NODE,i.Node.DOCUMENT_FRAGMENT_NODE,i.Node.ELEMENT_NODE,i.Node.TEXT_NODE),A=(i.Node.PROCESSING_INSTRUCTION_NODE,i.Node.ENTITY_REFERENCE_NODE,i.Node.ENTITY_NODE,i.Node.NOTATION_NODE,\"undefined\"!=typeof i.window?i.window:Function(\"return this;\")(),O=C,function(n){return function(n){return n.dom().nodeType}(n)===O}),w=function(n,t){return function(n){return n.style!==undefined&&_(n.style.getPropertyValue)}(n)?n.style.getPropertyValue(t):\"\"},S=function(n){n.ui.registry.addToggleButton(\"ltr\",{tooltip:\"Left to right\",icon:\"ltr\",onAction:function(){return n.execCommand(\"mceDirectionLTR\")},onSetup:T(n,\"ltr\")}),n.ui.registry.addToggleButton(\"rtl\",{tooltip:\"Right to left\",icon:\"rtl\",onAction:function(){return n.execCommand(\"mceDirectionRTL\")},onSetup:T(n,\"rtl\")})};!function R(){r.add(\"directionality\",function(n){d(n),S(n)})}()}(window);"]}