{"version":3,"sources":["preview/plugin.min.js"],"names":["e","tinymce","util","Tools","resolve","l","y","t","addCommand","n","i","dom","encode","getParam","m","documentBaseURI","getURI","o","u","each","contentCSS","toAbsolute","r","settings","body_id","indexOf","id","a","body_class","c","mac","s","getBody","dir","d","getContent","windowManager","open","title","size","body","type","items","name","sandboxed","buttons","text","primary","initialData","preview","focus","add","ui","registry","addButton","icon","tooltip","onAction","execCommand","addMenuItem"],"mappings":"CAQC,WAAW,aAAa,IAAIA,EAAEC,QAAQC,KAAKC,MAAMC,QAAQ,yBAAyBC,EAAEJ,QAAQC,KAAKC,MAAMC,QAAQ,sBAA6IE,EAAEL,QAAQC,KAAKC,MAAMC,QAAQ,eAAu+BG,EAAE,SAASP,GAAGA,EAAEQ,WAAW,aAAa,YAAY,SAASR,GAAG,IAAIO,EAA1hC,SAASA,GAAG,IAAIE,EAAE,GAAGC,EAAEH,EAAEI,IAAIC,OAAOZ,EAAvM,SAASA,GAAG,OAAOA,EAAEa,SAAS,gBAAgB,IAA2JC,CAAEP,GAAGE,GAAG,eAAeC,EAAEH,EAAEQ,gBAAgBC,UAAU,KAAKhB,IAAIS,GAAG,0BAA0BT,EAAE,YAAY,IAAIiB,EAAjQ,SAASjB,GAAG,OAAOA,EAAEa,SAAS,oBAAmB,EAAG,WAA+MK,CAAEX,GAAG,2BAA2B,GAAGF,EAAEc,KAAKZ,EAAEa,WAAW,SAASpB,GAAGS,GAAG,gDAAgDC,EAAEH,EAAEQ,gBAAgBM,WAAWrB,IAAI,IAAIiB,EAAE,MAAM,IAAIK,EAAEf,EAAEgB,SAASC,SAAS,WAAW,IAAIF,EAAEG,QAAQ,OAAOH,GAAGA,EAAEf,EAAEM,SAAS,UAAU,GAAG,SAASN,EAAEmB,KAAKJ,GAAG,IAAIK,EAAEpB,EAAEgB,SAASK,YAAY,IAAI,IAAID,EAAEF,QAAQ,OAAOE,GAAGA,EAAEpB,EAAEM,SAAS,aAAa,GAAG,SAASN,EAAEmB,KAAK,IAAI,IAAIG,EAAE,4KAA4KvB,EAAEwB,IAAI,YAAY,0BAA0B,iDAAiDC,EAAExB,EAAEyB,UAAUC,IAAIC,EAAEH,EAAE,SAASrB,EAAEqB,GAAG,IAAI,GAAG,MAAM,8BAA8BtB,EAAE,oBAAoBC,EAAEY,GAAG,6BAA6BZ,EAAEiB,GAAG,IAAIO,EAAE,IAAI3B,EAAE4B,aAAaN,EAAE,iBAAwFpB,CAAET,GAAGA,EAAEoC,cAAcC,KAAK,CAACC,MAAM,UAAUC,KAAK,QAAQC,KAAK,CAACC,KAAK,QAAQC,MAAM,CAAC,CAACC,KAAK,UAAUF,KAAK,SAASG,WAAU,KAAMC,QAAQ,CAAC,CAACJ,KAAK,SAASE,KAAK,QAAQG,KAAK,QAAQC,SAAQ,IAAKC,YAAY,CAACC,QAAQ1C,KAAK2C,MAAM,SAAjP,CAA2PlD,MAA8RA,EAAEmD,IAAI,UAAU,SAASnD,GAAGO,EAAEP,GAApT,SAASA,GAAGA,EAAEoD,GAAGC,SAASC,UAAU,UAAU,CAACC,KAAK,UAAUC,QAAQ,UAAUC,SAAS,WAAW,OAAOzD,EAAE0D,YAAY,iBAAiB1D,EAAEoD,GAAGC,SAASM,YAAY,UAAU,CAACJ,KAAK,UAAUT,KAAK,UAAUW,SAAS,WAAW,OAAOzD,EAAE0D,YAAY,iBAAiEhD,CAAEV,KAAh3D","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function(){\"use strict\";var e=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),l=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),m=function(e){return e.getParam(\"content_style\",\"\")},u=function(e){return e.getParam(\"content_css_cors\",!1,\"boolean\")},y=tinymce.util.Tools.resolve(\"tinymce.Env\"),n=function(t){var n=\"\",i=t.dom.encode,e=m(t);n+='<base href=\"'+i(t.documentBaseURI.getURI())+'\">',e&&(n+='<style type=\"text/css\">'+e+\"</style>\");var o=u(t)?' crossorigin=\"anonymous\"':\"\";l.each(t.contentCSS,function(e){n+='<link type=\"text/css\" rel=\"stylesheet\" href=\"'+i(t.documentBaseURI.toAbsolute(e))+'\"'+o+\">\"});var r=t.settings.body_id||\"tinymce\";-1!==r.indexOf(\"=\")&&(r=(r=t.getParam(\"body_id\",\"\",\"hash\"))[t.id]||r);var a=t.settings.body_class||\"\";-1!==a.indexOf(\"=\")&&(a=(a=t.getParam(\"body_class\",\"\",\"hash\"))[t.id]||\"\");var c='<script>document.addEventListener && document.addEventListener(\"click\", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === \"A\" && !('+(y.mac?\"e.metaKey\":\"e.ctrlKey && !e.altKey\")+\")) {e.preventDefault();}}}, false);<\\/script> \",s=t.getBody().dir,d=s?' dir=\"'+i(s)+'\"':\"\";return\"<!DOCTYPE html><html><head>\"+n+'</head><body id=\"'+i(r)+'\" class=\"mce-content-body '+i(a)+'\"'+d+\">\"+t.getContent()+c+\"</body></html>\"},t=function(e){e.addCommand(\"mcePreview\",function(){!function(e){var t=n(e);e.windowManager.open({title:\"Preview\",size:\"large\",body:{type:\"panel\",items:[{name:\"preview\",type:\"iframe\",sandboxed:!0}]},buttons:[{type:\"cancel\",name:\"close\",text:\"Close\",primary:!0}],initialData:{preview:t}}).focus(\"close\")}(e)})},i=function(e){e.ui.registry.addButton(\"preview\",{icon:\"preview\",tooltip:\"Preview\",onAction:function(){return e.execCommand(\"mcePreview\")}}),e.ui.registry.addMenuItem(\"preview\",{icon:\"preview\",text:\"Preview\",onAction:function(){return e.execCommand(\"mcePreview\")}})};!function o(){e.add(\"preview\",function(e){t(e),i(e)})}()}();"]}