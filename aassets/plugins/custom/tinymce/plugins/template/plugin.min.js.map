{"version":3,"sources":["template/plugin.min.js"],"names":["a","e","t","tinymce","util","Tools","resolve","c","length","n","i","p","each","replace","RegExp","l","r","dom","o","h","select","hasClass","s","test","className","w","u","f","getParam","O","translate","T","split","Date","getFullYear","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","getDay","M","templates","v","send","url","success","JSON","parse","S","_","x","selection","getContent","create","appendChild","cloneNode","m","innerHTML","b","d","g","execCommand","addVisual","fold","is","isSome","isNone","getOr","N","getOrThunk","C","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","bind","exists","forall","filter","equals","D","equals_","toArray","toString","Object","freeze","H","B","L","from","none","E","k","R","J","some","Y","Array","prototype","isPrototypeOf","constructor","name","String","q","slice","F","hasOwnProperty","call","\"","<",">","&","'","text","value","content","error","selected","title","description","notificationManager","open","type","size","body","items","initialData","buttons","primary","onSubmit","getData","template","then","close","onChange","block","unblock","indexOf","contentCSS","documentBaseURI","toAbsolute","settings","body_class","id","encode","getBody","dir","y","label","html","sandboxed","preview","redial","focus","windowManager","add","ui","registry","addButton","icon","tooltip","onAction","addMenuItem","z","addCommand","arguments","concat","apply","P","on","node"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function(){\"use strict\";function e(){}function a(e){return function(){return e}}var t=tinymce.util.Tools.resolve(\"tinymce.PluginManager\");function c(e,t){if((e=\"\"+e).length<t)for(var n=0;n<t-e.length;n++)e=\"0\"+e;return e}function i(n,e){return p.each(e,function(e,t){\"function\"==typeof e&&(e=e(t)),n=n.replace(new RegExp(\"\\\\{\\\\$\"+t+\"\\\\}\",\"g\"),e)}),n}function l(e,t){var r=e.dom,o=h(e);p.each(r.select(\"*\",t),function(n){p.each(o,function(e,t){r.hasClass(n,t)&&\"function\"==typeof o[t]&&o[t](n)})})}function s(e,t){return new RegExp(\"\\\\b\"+t+\"\\\\b\",\"g\").test(e.className)}function n(){return w}var r,u=a(!1),f=a(!0),p=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),o=tinymce.util.Tools.resolve(\"tinymce.util.XHR\"),m=function(e){return e.getParam(\"template_cdate_classes\",\"cdate\")},d=function(e){return e.getParam(\"template_mdate_classes\",\"mdate\")},g=function(e){return e.getParam(\"template_selected_content_classes\",\"selcontent\")},y=function(e){return e.getParam(\"template_preview_replace_values\")},h=function(e){return e.getParam(\"template_replace_values\")},v=function(e){return e.templates},b=function(e){return e.getParam(\"template_cdate_format\",e.translate(\"%Y-%m-%d\"))},O=function(e){return e.getParam(\"template_mdate_format\",e.translate(\"%Y-%m-%d\"))},T=function(e,t,n){var r=\"Sun Mon Tue Wed Thu Fri Sat Sun\".split(\" \"),o=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday\".split(\" \"),a=\"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\".split(\" \"),u=\"January February March April May June July August September October November December\".split(\" \");return n=n||new Date,t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(\"%D\",\"%m/%d/%Y\")).replace(\"%r\",\"%I:%M:%S %p\")).replace(\"%Y\",\"\"+n.getFullYear())).replace(\"%y\",\"\"+n.getYear())).replace(\"%m\",c(n.getMonth()+1,2))).replace(\"%d\",c(n.getDate(),2))).replace(\"%H\",\"\"+c(n.getHours(),2))).replace(\"%M\",\"\"+c(n.getMinutes(),2))).replace(\"%S\",\"\"+c(n.getSeconds(),2))).replace(\"%I\",\"\"+((n.getHours()+11)%12+1))).replace(\"%p\",n.getHours()<12?\"AM\":\"PM\")).replace(\"%B\",\"\"+e.translate(u[n.getMonth()]))).replace(\"%b\",\"\"+e.translate(a[n.getMonth()]))).replace(\"%A\",\"\"+e.translate(o[n.getDay()]))).replace(\"%a\",\"\"+e.translate(r[n.getDay()]))).replace(\"%%\",\"%\")},M=function(t,n){return function(){var e=v(t);\"function\"!=typeof e?\"string\"==typeof e?o.send({url:e,success:function(e){n(JSON.parse(e))}}):n(e):e(n)}},S=i,_=l,x=function(t,e,n){var r,o,a=t.dom,u=t.selection.getContent();n=i(n,h(t)),r=a.create(\"div\",null,n),(o=a.select(\".mceTmpl\",r))&&0<o.length&&(r=a.create(\"div\",null)).appendChild(o[0].cloneNode(!0)),p.each(a.select(\"*\",r),function(e){s(e,m(t).replace(/\\s+/g,\"|\"))&&(e.innerHTML=T(t,b(t))),s(e,d(t).replace(/\\s+/g,\"|\"))&&(e.innerHTML=T(t,O(t))),s(e,g(t).replace(/\\s+/g,\"|\"))&&(e.innerHTML=u)}),l(t,r),t.execCommand(\"mceInsertContent\",!1,r.innerHTML),t.addVisual()},P=function(e){e.addCommand(\"mceInsertTemplate\",function t(r){for(var o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.concat(e);return r.apply(null,n)}}(x,e))},A=function(r){r.on(\"PreProcess\",function(e){var t=r.dom,n=O(r);p.each(t.select(\"div\",e.node),function(e){t.hasClass(e,\"mceTmpl\")&&(p.each(t.select(\"*\",e),function(e){t.hasClass(e,r.getParam(\"template_mdate_classes\",\"mdate\").replace(/\\s+/g,\"|\"))&&(e.innerHTML=T(r,n))}),_(r,e))})})},w=(r={fold:function(e,t){return e()},is:u,isSome:u,isNone:f,getOr:N,getOrThunk:C,getOrDie:function(e){throw new Error(e||\"error: getOrDie called on none.\")},getOrNull:a(null),getOrUndefined:a(undefined),or:N,orThunk:C,map:n,each:e,bind:n,exists:u,forall:f,filter:n,equals:D,equals_:D,toArray:function(){return[]},toString:a(\"none()\")},Object.freeze&&Object.freeze(r),r);function D(e){return e.isNone()}function C(e){return e()}function N(e){return e}function H(e){return e.replace(/[\"'<>&]/g,function(e){return function(e,t){return B(e,t)?L.from(e[t]):L.none()}(E,e).getOr(e)})}function k(t){return function(e){R(t,e)}}var I,J=function(n){function e(){return o}function t(e){return e(n)}var r=a(n),o={fold:function(e,t){return t(n)},is:function(e){return n===e},isSome:f,isNone:u,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(e){return J(e(n))},each:function(e){e(n)},bind:t,exists:t,forall:t,filter:function(e){return e(n)?o:w},toArray:function(){return[n]},toString:function(){return\"some(\"+n+\")\"},equals:function(e){return e.is(n)},equals_:function(e,t){return e.fold(u,function(e){return t(n,e)})}};return o},L={some:J,none:n,from:function(e){return null===e||e===undefined?w:J(e)}},Y=(I=\"function\",function(e){return function(e){if(null===e)return\"null\";var t=typeof e;return\"object\"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&\"Array\"===e.constructor.name)?\"array\":\"object\"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&\"String\"===e.constructor.name)?\"string\":t}(e)===I}),j=Array.prototype.slice,q=(Y(Array.from)&&Array.from,tinymce.util.Tools.resolve(\"tinymce.util.Promise\")),F=Object.hasOwnProperty,B=function(e,t){return F.call(e,t)},E={'\"':\"&quot;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"&\":\"&amp;\",\"'\":\"&#039;\"},R=function(i,t){function e(e){return function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var a=e[o];r[o]=t(a,o)}return r}(e,function(e){return{text:e.text,value:e.text}})}function a(e,t){return function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return L.some(o)}return L.none()}(e,function(e){return e.text===t})}function l(e){return new q(function(t,n){e.value.url.fold(function(){return t(e.value.content.getOr(\"\"))},function(e){return o.send({url:e,success:function(e){t(e)},error:function(e){n(e)}})})})}(function(){if(t&&0!==t.length)return L.from(p.map(t,function(e,t){function n(e){return e.url!==undefined}return{selected:0===t,text:e.title,value:{url:n(e)?L.from(e.url):L.none(),content:n(e)?L.none():L.from(e.content),description:e.description}}}));var e=i.translate(\"No templates defined.\");return i.notificationManager.open({text:e,type:\"info\"}),L.none()})().each(function(n){function u(e,t){return{title:\"Insert Template\",size:\"large\",body:{type:\"panel\",items:e},initialData:t,buttons:[{type:\"cancel\",name:\"cancel\",text:\"Cancel\"},{type:\"submit\",name:\"save\",text:\"Save\",primary:!0}],onSubmit:function(n){return function(t){var e=t.getData();a(n,e.template).each(function(e){l(e).then(function(e){x(i,!1,e),t.close()})})}}(n),onChange:function(r,o){return function(n,e){if(\"template\"===e.name){var t=n.getData().template;a(r,t).each(function(t){n.block(\"Loading...\"),l(t).then(function(e){o(n,t,e),n.unblock()})})}}}(n,r)}}var c=e(n),r=function(e,t,n){var r=function(t,e){if(-1===e.indexOf(\"<html>\")){var n=\"\";p.each(t.contentCSS,function(e){n+='<link type=\"text/css\" rel=\"stylesheet\" href=\"'+t.documentBaseURI.toAbsolute(e)+'\">'});var r=t.settings.body_class||\"\";-1!==r.indexOf(\"=\")&&(r=(r=t.getParam(\"body_class\",\"\",\"hash\"))[t.id]||\"\");var o=t.dom.encode,a=t.getBody().dir,u=a?' dir=\"'+o(a)+'\"':\"\";e=\"<!DOCTYPE html><html><head>\"+n+'</head><body class=\"'+o(r)+'\"'+u+\">\"+e+\"</body></html>\"}return S(e,y(t))}(i,n),o=[{type:\"selectbox\",name:\"template\",label:\"Templates\",items:c},{type:\"htmlpanel\",html:'<p aria-live=\"polite\">'+H(t.value.description)+\"</p>\"},{label:\"Preview\",type:\"iframe\",name:\"preview\",sandboxed:!1}],a={template:t.text,preview:r};e.unblock(),e.redial(u(o,a)),e.focus(\"template\")},t=i.windowManager.open(u([],{template:\"\",preview:\"\"}));t.block(\"Loading...\"),l(n[0]).then(function(e){r(t,n[0],e)})})},z=function(e){e.ui.registry.addButton(\"template\",{icon:\"template\",tooltip:\"Insert template\",onAction:M(e.settings,k(e))}),e.ui.registry.addMenuItem(\"template\",{icon:\"template\",text:\"Insert template...\",onAction:M(e.settings,k(e))})};!function U(){t.add(\"template\",function(e){z(e),P(e),A(e)})}()}();"]}