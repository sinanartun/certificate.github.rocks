{"version":3,"sources":["autolink/plugin.min.js"],"names":["i","t","e","nodeType","n","data","length","C","hasChildNodes","setStart","setStartBefore","m","setEnd","setEndAfter","tinymce","util","Tools","resolve","o","r","f","a","s","d","c","l","u","g","getParam","y","h","k","selection","getNode","tagName","getRng","cloneRange","startOffset","endContainer","previousSibling","firstChild","nextSibling","endOffset","nodeValue","toString","charCodeAt","charAt","trim","match","test","getBookmark","setRng","execCommand","dom","setAttrib","moveToBookmark","nodeChanged","add","on","keyCode","browser","isIE"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function(){\"use strict\";function i(t,e){if(e<0&&(e=0),3===t.nodeType){var n=t.data.length;n<e&&(e=n)}return e}function C(t,e,n){1!==e.nodeType||e.hasChildNodes()?t.setStart(e,i(e,n)):t.setStartBefore(e)}function m(t,e,n){1!==e.nodeType||e.hasChildNodes()?t.setEnd(e,i(e,n)):t.setEndAfter(e)}var t=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),o=tinymce.util.Tools.resolve(\"tinymce.Env\"),y=function(t){return t.getParam(\"autolink_pattern\",/^(https?:\\/\\/|ssh:\\/\\/|ftp:\\/\\/|file:\\/|www\\.|(?:mailto:)?[A-Z0-9._%+\\-]+@)(.+)$/i)},k=function(t){return t.getParam(\"default_link_target\",!1)},r=function(t,e,n){var i,o,r,f,a,s,d,c,l,u,g=y(t),h=k(t);if(\"A\"!==t.selection.getNode().tagName){if((i=t.selection.getRng(!0).cloneRange()).startOffset<5){if(!(c=i.endContainer.previousSibling)){if(!i.endContainer.firstChild||!i.endContainer.firstChild.nextSibling)return;c=i.endContainer.firstChild.nextSibling}if(l=c.length,C(i,c,l),m(i,c,l),i.endOffset<5)return;o=i.endOffset,f=c}else{if(3!==(f=i.endContainer).nodeType&&f.firstChild){for(;3!==f.nodeType&&f.firstChild;)f=f.firstChild;3===f.nodeType&&(C(i,f,0),m(i,f,f.nodeValue.length))}o=1===i.endOffset?2:i.endOffset-1-e}for(r=o;C(i,f,2<=o?o-2:0),m(i,f,1<=o?o-1:0),o-=1,\" \"!==(u=i.toString())&&\"\"!==u&&160!==u.charCodeAt(0)&&0<=o-2&&u!==n;);!function(t,e){return t===e||\" \"===t||160===t.charCodeAt(0)}(i.toString(),n)?(0===i.startOffset?C(i,f,0):C(i,f,o),m(i,f,r)):(C(i,f,o),m(i,f,r),o+=1),\".\"===(s=i.toString()).charAt(s.length-1)&&m(i,f,r-1),(d=(s=i.toString().trim()).match(g))&&(\"www.\"===d[1]?d[1]=\"http://www.\":/@$/.test(d[1])&&!/^mailto:/.test(d[1])&&(d[1]=\"mailto:\"+d[1]),a=t.selection.getBookmark(),t.selection.setRng(i),t.execCommand(\"createlink\",!1,d[1]+d[2]),!1!==h&&t.dom.setAttrib(t.selection.getNode(),\"target\",h),t.selection.moveToBookmark(a),t.nodeChanged())}},e=function(e){var n;e.on(\"keydown\",function(t){if(13===t.keyCode)return function(t){r(t,-1,\"\")}(e)}),o.browser.isIE()?e.on(\"focus\",function(){if(!n){n=!0;try{e.execCommand(\"AutoUrlDetect\",!1,!0)}catch(t){}}}):(e.on(\"keypress\",function(t){if(41===t.keyCode)return function(t){r(t,-1,\"(\")}(e)}),e.on(\"keyup\",function(t){if(32===t.keyCode)return function(t){r(t,0,\"\")}(e)}))};!function n(){t.add(\"autolink\",function(t){e(t)})}()}();"]}