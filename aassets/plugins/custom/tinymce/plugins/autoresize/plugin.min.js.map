{"version":3,"sources":["autoresize/plugin.min.js"],"names":["d","e","t","n","getBody","style","overflowY","scrollTop","h","i","o","parseInt","getStyle","isNaN","get","set","clone","tinymce","util","Tools","resolve","v","r","y","getParam","getElement","offsetHeight","u","setEditorTimeout","C","dom","getDoc","plugins","fullscreen","isFullscreen","s","documentElement","a","b","f","c","g","getContainer","getContentAreaContainer","l","z","setStyle","fire","p","browser","isSafari","mac","m","getWin","scrollTo","pageXOffset","pageYOffset","hasFocus","selection","scrollIntoView","getNode","webkit","setup","on","setStyles","paddingLeft","paddingRight","min-height","resize","add","settings","hasOwnProperty","inline","addCommand"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function(){\"use strict\";function d(e,t){var n=e.getBody();n&&(n.style.overflowY=t?\"\":\"hidden\",t||(n.scrollTop=0))}function h(e,t,n,i){var o=parseInt(e.getStyle(t,n,i),10);return isNaN(o)?0:o}var i=function(e){function t(){return n}var n=e;return{get:t,set:function(e){n=e},clone:function(){return i(t())}}},e=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),v=tinymce.util.Tools.resolve(\"tinymce.Env\"),r=tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),p=function(e){return e.fire(\"ResizeEditor\")},y=function(e){return e.getParam(\"min_height\",e.getElement().offsetHeight,\"number\")},z=function(e){return e.getParam(\"max_height\",0,\"number\")},n=function(e){return e.getParam(\"autoresize_overflow_padding\",1,\"number\")},b=function(e){return e.getParam(\"autoresize_bottom_margin\",50,\"number\")},o=function(e){return e.getParam(\"autoresize_on_init\",!0,\"boolean\")},u=function(e,t,n,i,o){r.setEditorTimeout(e,function(){C(e,t),n--?u(e,t,n,i,o):o&&o()},i)},C=function(e,t){var n,i,o,r=e.dom,u=e.getDoc();if(u)if(function(e){return e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()}(e))d(e,!0);else{var s=u.documentElement,a=b(e);i=y(e);var f=h(r,s,\"margin-top\",!0),c=h(r,s,\"margin-bottom\",!0);(o=s.offsetHeight+f+c+a)<0&&(o=0);var g=e.getContainer().offsetHeight-e.getContentAreaContainer().offsetHeight;o+g>y(e)&&(i=o+g);var l=z(e);if(l&&l<i?(i=l,d(e,!0)):d(e,!1),i!==t.get()){if(n=i-t.get(),r.setStyle(e.getContainer(),\"height\",i+\"px\"),t.set(i),p(e),v.browser.isSafari()&&v.mac){var m=e.getWin();m.scrollTo(m.pageXOffset,m.pageYOffset)}e.hasFocus()&&e.selection.scrollIntoView(e.selection.getNode()),v.webkit&&n<0&&C(e,t)}}},s={setup:function(t,e){t.on(\"init\",function(){var e=n(t);t.dom.setStyles(t.getBody(),{paddingLeft:e,paddingRight:e,\"min-height\":0})}),t.on(\"NodeChange SetContent keyup FullscreenStateChanged ResizeContent\",function(){C(t,e)}),o(t)&&t.on(\"init\",function(){u(t,e,20,100,function(){u(t,e,5,1e3)})})},resize:C},a=function(e,t){e.addCommand(\"mceAutoResize\",function(){s.resize(e,t)})};!function t(){e.add(\"autoresize\",function(e){if(e.settings.hasOwnProperty(\"resize\")||(e.settings.resize=!1),!e.inline){var t=i(0);a(e,t),s.setup(e,t)}})}()}();"]}