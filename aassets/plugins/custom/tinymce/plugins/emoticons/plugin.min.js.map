{"version":3,"sources":["emoticons/plugin.min.js"],"names":["l","i","n","t","a","e","r","tinymce","util","Tools","resolve","c","u","fold","is","isSome","isNone","getOr","f","getOrThunk","s","getOrDie","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","o","equals_","toArray","toString","Object","freeze","m","indexOf","g","title","toLowerCase","length","keywords","d","push","value","text","icon","y","P","p","D","call","h","k","A","none","on","x","load","then","S","v","q","_","category","char","I","concat","set","some","console","log","get","listCategories","z","hasLoaded","waitForLoad","N","L","setInterval","clearInterval","listAll","listCategory","from","w","O","j","Array","prototype","isPrototypeOf","constructor","name","String","slice","clone","T","hasOwnProperty","arguments","keys","getParam","symbols","people","animals_and_nature","food_and_drink","activity","travel_and_places","objects","flags","user","M","U","size","body","type","tabs","items","initialData","onTabChange","newTabName","throttle","onChange","onAction","insertContent","close","buttons","primary","pattern","results","cancel","clearTimeout","setTimeout","getData","setData","apply","label","windowManager","open","focus","block","redial","unblock","level","add","suffix","E","F","ui","registry","addButton","tooltip","addMenuItem","R","addAutocompleter","ch","columns","minChars","fetch","selection","setRng","hide","window"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function(l){\"use strict\";function n(){}function i(n){return function(){return n}}function t(){return a}var e,r=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),c=i(!1),u=i(!0),a=(e={fold:function(n,t){return n()},is:c,isSome:c,isNone:u,getOr:f,getOrThunk:s,getOrDie:function(n){throw new Error(n||\"error: getOrDie called on none.\")},getOrNull:i(null),getOrUndefined:i(undefined),or:f,orThunk:s,map:t,each:n,bind:t,exists:c,forall:u,filter:t,equals:o,equals_:o,toArray:function(){return[]},toString:i(\"none()\")},Object.freeze&&Object.freeze(e),e);function o(n){return n.isNone()}function s(n){return n()}function f(n){return n}function m(n,t){return-1!==n.indexOf(t)}function g(n,t){return m(n.title.toLowerCase(),t)||function(n,t){for(var e=0,r=n.length;e<r;e++){if(t(n[e],e))return!0}return!1}(n.keywords,function(n){return m(n.toLowerCase(),t)})}function d(n,t,e){for(var r=[],o=t.toLowerCase(),i=e.fold(function(){return c},function(t){return function(n){return t<=n}}),u=0;u<n.length&&(0!==t.length&&!g(n[u],o)||(r.push({value:n[u][\"char\"],text:n[u].title,icon:n[u][\"char\"]}),!i(r.length)));u++);return r}function y(n,t){for(var e=P(n),r=0,o=e.length;r<o;r++){var i=e[r];t(n[i],i)}}function p(n,t){return function(n,t){return D.call(n,t)}(n,t)?n[t]:t}function v(n){return function(n,e){return S(n,function(n,t){return{k:t,v:e(n,t)}})}(q(n),function(n){return _({keywords:[],category:\"user\"},n)})}function h(e,o,n){var r=k(A.none()),u=k(A.none());e.on(\"init\",function(){x.load(n,o).then(function(n){var t=v(e);!function(n){var o={},i=[];y(n,function(n,t){var e={title:t,keywords:n.keywords,\"char\":n[\"char\"],category:p(I,n.category)},r=o[e.category]!==undefined?o[e.category]:[];o[e.category]=r.concat([e]),i.push(e)}),r.set(A.some(o)),u.set(A.some(i))}(_(n,t))},function(n){l.console.log(\"Failed to load emoticons: \"+n),r.set(A.some({})),u.set(A.some([]))})});var i=function(){return u.get().getOr([])},c=function(){return r.get().isSome()&&u.get().isSome()};return{listCategories:function(){return[z].concat(P(r.get().getOr({})))},hasLoaded:c,waitForLoad:function(){return c()?N.resolve(!0):new N(function(n,t){var e=15,r=L.setInterval(function(){c()?(L.clearInterval(r),n(!0)):--e<0&&(l.console.log(\"Could not load emojis from url: \"+o),L.clearInterval(r),t(!1))},100)})},listAll:i,listCategory:function(t){return t===z?i():r.get().bind(function(n){return A.from(n[t])}).getOr([])}}}var b,w,O=function(e){function n(){return o}function t(n){return n(e)}var r=i(e),o={fold:function(n,t){return t(e)},is:function(n){return e===n},isSome:u,isNone:c,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:n,orThunk:n,map:function(n){return O(n(e))},each:function(n){n(e)},bind:t,exists:t,forall:t,filter:function(n){return n(e)?o:a},toArray:function(){return[e]},toString:function(){return\"some(\"+e+\")\"},equals:function(n){return n.is(e)},equals_:function(n,t){return n.fold(c,function(n){return t(e,n)})}};return o},A={some:O,none:t,from:function(n){return null===n||n===undefined?a:O(n)}},j=(b=\"function\",function(n){return function(n){if(null===n)return\"null\";var t=typeof n;return\"object\"==t&&(Array.prototype.isPrototypeOf(n)||n.constructor&&\"Array\"===n.constructor.name)?\"array\":\"object\"==t&&(String.prototype.isPrototypeOf(n)||n.constructor&&\"String\"===n.constructor.name)?\"string\":t}(n)===b}),C=Array.prototype.slice,k=(j(Array.from)&&Array.from,function(n){function t(){return e}var e=n;return{get:t,set:function(n){e=n},clone:function(){return k(t())}}}),T=Object.prototype.hasOwnProperty,_=(w=function(n,t){return t},function(){for(var n=new Array(arguments.length),t=0;t<n.length;t++)n[t]=arguments[t];if(0===n.length)throw new Error(\"Can't merge zero objects\");for(var e={},r=0;r<n.length;r++){var o=n[r];for(var i in o)T.call(o,i)&&(e[i]=w(e[i],o[i]))}return e}),P=Object.keys,D=Object.hasOwnProperty,S=function(n,r){var o={};return y(n,function(n,t){var e=r(n,t);o[e.k]=e.v}),o},x=tinymce.util.Tools.resolve(\"tinymce.Resource\"),L=tinymce.util.Tools.resolve(\"tinymce.util.Delay\"),N=tinymce.util.Tools.resolve(\"tinymce.util.Promise\"),E=function(n,t){return n.getParam(\"emoticons_database_url\",t+\"/js/emojis\"+n.suffix+\".js\")},F=function(n){return n.getParam(\"emoticons_database_id\",\"tinymce.plugins.emoticons\",\"string\")},q=function(n){return n.getParam(\"emoticons_append\",{},\"object\")},z=\"All\",I={symbols:\"Symbols\",people:\"People\",animals_and_nature:\"Animals and Nature\",food_and_drink:\"Food and Drink\",activity:\"Activity\",travel_and_places:\"Travel and Places\",objects:\"Objects\",flags:\"Flags\",user:\"User Defined\"},M=\"pattern\",U=function(e,i){function n(){return{title:\"Emoticons\",size:\"normal\",body:{type:\"tabpanel\",tabs:function(n,t){for(var e=n.length,r=new Array(e),o=0;o<e;o++){var i=n[o];r[o]=t(i,o)}return r}(i.listCategories(),function(n){return{title:n,name:n,items:[o,c]}})},initialData:t,onTabChange:function(n,t){u.set(t.newTabName),r.throttle(n)},onChange:r.throttle,onAction:function(n,t){\"results\"===t.name&&(function(n,t){n.insertContent(t)}(e,t.value),n.close())},buttons:[{type:\"cancel\",text:\"Close\",primary:!0}]}}var t={pattern:\"\",results:d(i.listAll(),\"\",A.some(300))},u=k(z),r=function(e,r){var o=null;return{cancel:function(){null!==o&&(l.clearTimeout(o),o=null)},throttle:function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];null!==o&&l.clearTimeout(o),o=l.setTimeout(function(){e.apply(null,n),o=null},r)}}}(function(n){!function(n){var t=n.getData(),e=u.get(),r=i.listCategory(e),o=d(r,t[M],e===z?A.some(300):A.none());n.setData({results:o})}(n)},200),o={label:\"Search\",type:\"input\",name:M},c={type:\"collection\",name:\"results\"},a=e.windowManager.open(n());a.focus(M),i.hasLoaded()||(a.block(\"Loading emoticons...\"),i.waitForLoad().then(function(){a.redial(n()),r.throttle(a),a.focus(M),a.unblock()})[\"catch\"](function(n){a.redial({title:\"Emoticons\",body:{type:\"panel\",items:[{type:\"alertbanner\",level:\"error\",icon:\"warning\",text:\"<p>Could not load emoticons</p>\"}]},buttons:[{type:\"cancel\",text:\"Close\",primary:!0}],initialData:{pattern:\"\",results:[]}}),a.focus(M),a.unblock()}))},R=function(n,t){function e(){return U(n,t)}n.ui.registry.addButton(\"emoticons\",{tooltip:\"Emoticons\",icon:\"emoji\",onAction:e}),n.ui.registry.addMenuItem(\"emoticons\",{text:\"Emoticons...\",icon:\"emoji\",onAction:e})};!function B(){r.add(\"emoticons\",function(n,t){var e=E(n,t),r=F(n),o=h(n,e,r);R(n,o),function(r,o){r.ui.registry.addAutocompleter(\"emoticons\",{ch:\":\",columns:\"auto\",minChars:2,fetch:function(t,e){return o.waitForLoad().then(function(){var n=o.listAll();return d(n,t,A.some(e))})},onAction:function(n,t,e){r.selection.setRng(t),r.insertContent(e),n.hide()}})}(n,o)})}()}(window);"]}