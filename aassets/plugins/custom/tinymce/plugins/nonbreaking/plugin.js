!function(){"use strict";var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(n){var e=n.getParam("nonbreaking_force_tab",0);return"boolean"==typeof e?!0===e?3:0:e},t=function(n){return n.getParam("nonbreaking_wrap",!0,"boolean")},r=function(n,e){for(var t="",r=0;r<e;r++)t+=n;return t},i=function(n,e){var i=t(n)||n.plugins.visualchars?function(){return'<span class="'+((n=n).plugins.visualchars&&n.plugins.visualchars.isEnabled()?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap")+'" contenteditable="false">'+r("&nbsp;",e)+"</span>";var n}():r("&nbsp;",e);n.undoManager.transact(function(){return n.insertContent(i)})},o={register:function(n){n.addCommand("mceNonBreaking",function(){i(n,1)})}},a=tinymce.util.Tools.resolve("tinymce.util.VK"),u={setup:function(n){var t=e(n);t>0&&n.on("keydown",function(e){if(e.keyCode===a.TAB&&!e.isDefaultPrevented()){if(e.shiftKey)return;e.preventDefault(),e.stopImmediatePropagation(),i(n,t)}})}},c={register:function(n){n.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:function(){return n.execCommand("mceNonBreaking")}}),n.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:function(){return n.execCommand("mceNonBreaking")}})}};n.add("nonbreaking",function(n){o.register(n),c.register(n),u.setup(n)})}();
//# sourceMappingURL=plugin.js.map
