!function(){"use strict";var t=function(e){var o=e,n=function(){return o};return{get:n,set:function(t){o=t},clone:function(){return t(n())}}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(t,e){t.fire("VisualBlocks",{state:e})},n=function(t,e,n){t.dom.toggleClass(t.getBody(),"mce-visualblocks"),n.set(!n.get()),o(t,n.get())},i={register:function(t,e,o){t.addCommand("mceVisualBlocks",function(){n(t,e,o)})}},s=function(t){return t.getParam("visualblocks_default_state",!1,"boolean")},u={setup:function(t,e,o){t.on("PreviewFormats AfterPreviewFormats",function(e){o.get()&&t.dom.toggleClass(t.getBody(),"mce-visualblocks","afterpreviewformats"===e.type)}),t.on("init",function(){s(t)&&n(t,e,o)}),t.on("remove",function(){t.dom.removeClass(t.getBody(),"mce-visualblocks")})}},c=function(t,e){return function(o){o.setActive(e.get());var n=function(t){return o.setActive(t.state)};return t.on("VisualBlocks",n),function(){return t.off("VisualBlocks",n)}}},r={register:function(t,e){t.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:function(){return t.execCommand("mceVisualBlocks")},onSetup:c(t,e)}),t.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",onAction:function(){return t.execCommand("mceVisualBlocks")},onSetup:c(t,e)})}};e.add("visualblocks",function(e,o){var n=t(!1);i.register(e,o,n),r.register(e,n),u.setup(e,o,n)})}();
//# sourceMappingURL=plugin.js.map
