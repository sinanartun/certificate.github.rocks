!function(e){"use strict";function n(){}function r(e){return function(){return e}}function t(){return a}var o,i=function(e){function n(){return r}var r=e;return{get:n,set:function(e){r=e},clone:function(){return i(n())}}},u=tinymce.util.Tools.resolve("tinymce.PluginManager"),c=r(!1),s=r(!0),a=(o={fold:function(e,n){return e()},is:c,isSome:c,isNone:s,getOr:d,getOrThunk:l,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r(null),getOrUndefined:r(void 0),or:d,orThunk:l,map:t,each:n,bind:t,exists:c,forall:s,filter:t,equals:f,equals_:f,toArray:function(){return[]},toString:r("none()")},Object.freeze&&Object.freeze(o),o);function f(e){return e.isNone()}function l(e){return e()}function d(e){return e}function m(e){return function(n){return function(e){if(null===e)return"null";var n=typeof e;return"object"==n&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==n&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":n}(n)===e}}function v(e,n){for(var r=e.length,t=new Array(r),o=0;o<r;o++){var i=e[o];t[o]=n(i,o)}return t}function h(e,n){for(var r=0,t=e.length;r<t;r++)n(e[r],r)}function g(e,n){for(var r=[],t=0,o=e.length;t<o;t++){var i=e[t];n(i,t)&&r.push(i)}return r}function p(e,n){return-1!==e.indexOf(n)}function w(e){return void 0!==e.style&&W(e.style.getPropertyValue)}function y(n,r,t){!function(n,r,t){if(!(k(t)||H(t)||U(t)))throw e.console.error("Invalid call to Attr.set. Key ",r,":: Value ",t,":: Element ",n),new Error("Attribute value was not simple");n.setAttribute(r,t+"")}(n.dom(),r,t)}function S(e,n){var r=e.dom().getAttribute(n);return null===r?void 0:r}function E(e,n){e.dom().removeAttribute(n)}function O(e,n){return function(){return n===e}}function N(e,n){return function(){return n===e}}function T(e,n){var r=String(n).toLowerCase();return function(e,n){for(var r=0,t=e.length;r<t;r++){var o=e[r];if(n(o))return P.some(o)}return P.none()}(e,function(e){return e.search(r)})}function b(e){return function(n){return p(n,e)}}function x(){return he.get()}function C(e,n){var r=e.dom();if(r.nodeType!==ge)return!1;var t=r;if(void 0!==t.matches)return t.matches(n);if(void 0!==t.msMatchesSelector)return t.msMatchesSelector(n);if(void 0!==t.webkitMatchesSelector)return t.webkitMatchesSelector(n);if(void 0!==t.mozMatchesSelector)return t.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}function A(e,n,t,o){return{x:r(e),y:r(n),width:r(t),height:r(o),right:r(e+t),bottom:r(n+o)}}function D(e,n){return function(e,n){return g(function(e){return(n=e,P.from(n.dom().parentNode).map(q.fromDom)).map(we).map(function(n){return g(n,function(n){return!function(e,n){return e.dom()===n.dom()}(e,n)})}).getOr([]);var n}(e),n)}(e,function(e){return C(e,n)})}function F(e,n){return function(r){function t(e){return r.setActive(e.state)}return r.setActive(null!==n.get()),e.on("FullscreenStateChanged",t),function(){return e.off("FullscreenStateChanged",t)}}}var M,_,R,L=function(e){function n(){return i}function t(n){return n(e)}var o=r(e),i={fold:function(n,r){return r(e)},is:function(n){return e===n},isSome:s,isNone:c,getOr:o,getOrThunk:o,getOrDie:o,getOrNull:o,getOrUndefined:o,or:n,orThunk:n,map:function(n){return L(n(e))},each:function(n){n(e)},bind:t,exists:t,forall:t,filter:function(n){return n(e)?i:a},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(n){return n.is(e)},equals_:function(n,r){return n.fold(c,function(n){return r(e,n)})}};return i},P={some:L,none:t,from:function(e){return null==e?a:L(e)}},k=m("string"),I=m("array"),H=m("boolean"),W=m("function"),U=m("number"),V=(Array.prototype.slice,Array.prototype.push),j=(W(Array.from)&&Array.from,Object.keys),B=function(e){if(null==e)throw new Error("Node cannot be null or undefined");return{dom:r(e)}},q={fromHtml:function(n,r){var t=(r||e.document).createElement("div");if(t.innerHTML=n,!t.hasChildNodes()||1<t.childNodes.length)throw e.console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return B(t.childNodes[0])},fromTag:function(n,r){var t=(r||e.document).createElement(n);return B(t)},fromText:function(n,r){var t=(r||e.document).createTextNode(n);return B(t)},fromDom:B,fromPoint:function(e,n,r){var t=e.dom();return P.from(t.elementFromPoint(n,r)).map(B)}},z=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE),X=(e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),Y=e.Node.TEXT_NODE,G=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,void 0!==e.window?e.window:Function("return this;")(),M=Y,function(e){return function(e){return e.dom().nodeType}(e)===M}),$=function(e,n){return w(e)?e.style.getPropertyValue(n):""},K=function(){return J(0,0)},J=function(e,n){return{major:e,minor:n}},Q=function(e,n){var r=String(n).toLowerCase();return 0===e.length?K():function(e,n){var r=function(e,n){for(var r=0;r<e.length;r++){var t=e[r];if(t.test(n))return t}}(e,n);if(!r)return{major:0,minor:0};function t(e){return Number(n.replace(r,"$"+e))}return J(t(1),t(2))}(e,r)},Z=K,ee="Firefox",ne=function(e){var n=e.current;return{current:n,version:e.version,isEdge:O("Edge",n),isChrome:O("Chrome",n),isIE:O("IE",n),isOpera:O("Opera",n),isFirefox:O(ee,n),isSafari:O("Safari",n)}},re=function(){return ne({current:void 0,version:Z()})},te=ne,oe=(r("Edge"),r("Chrome"),r("IE"),r("Opera"),r(ee),r("Safari"),"Windows"),ie="Android",ue="Solaris",ce="FreeBSD",se=function(e){var n=e.current;return{current:n,version:e.version,isWindows:N(oe,n),isiOS:N("iOS",n),isAndroid:N(ie,n),isOSX:N("OSX",n),isLinux:N("Linux",n),isSolaris:N(ue,n),isFreeBSD:N(ce,n)}},ae=function(){return se({current:void 0,version:Z()})},fe=se,le=(r(oe),r("iOS"),r(ie),r("Linux"),r("OSX"),r(ue),r(ce),/.*?version\/\ ?([0-9]+)\.([0-9]+).*/),de=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return p(e,"edge/")&&p(e,"chrome")&&p(e,"safari")&&p(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,le],search:function(e){return p(e,"chrome")&&!p(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return p(e,"msie")||p(e,"trident")}},{name:"Opera",versionRegexes:[le,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:b("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:b("firefox")},{name:"Safari",versionRegexes:[le,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(p(e,"safari")||p(e,"mobile/"))&&p(e,"applewebkit")}}],me=[{name:"Windows",search:b("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return p(e,"iphone")||p(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:b("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:b("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:b("linux"),versionRegexes:[]},{name:"Solaris",search:b("sunos"),versionRegexes:[]},{name:"FreeBSD",search:b("freebsd"),versionRegexes:[]}],ve={browsers:r(de),oses:r(me)},he=i(function(n,t){var o=ve.browsers(),i=ve.oses(),u=function(e,n){return T(e,n).map(function(e){var r=Q(e.versionRegexes,n);return{current:e.name,version:r}})}(o,n).fold(re,te),c=function(e,n){return T(e,n).map(function(e){var r=Q(e.versionRegexes,n);return{current:e.name,version:r}})}(i,n).fold(ae,fe);return{browser:u,os:c,deviceType:function(e,n,t,o){var i=e.isiOS()&&!0===/ipad/i.test(t),u=e.isiOS()&&!i,c=e.isiOS()||e.isAndroid(),s=c||o("(pointer:coarse)"),a=i||!u&&c&&o("(min-device-width:768px)"),f=u||c&&!a,l=n.isSafari()&&e.isiOS()&&!1===/safari/i.test(t),d=!f&&!a&&!l;return{isiPad:r(i),isiPhone:r(u),isTablet:r(a),isPhone:r(f),isTouch:r(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:r(l),isDesktop:r(d)}}(c,u,n,function(n){return e.window.matchMedia(n).matches})}}(e.navigator.userAgent)),ge=X,pe=z,we=(x().browser.isIE(),function(e){return v(e.dom().childNodes,q.fromDom)}),ye=(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n]}("element","offset"),function(e,n){return{left:r(e),top:r(n),translate:function(r,t){return ye(e+r,n+t)}}}),Se=ye,Ee=(x().browser.isSafari(),function(e,n){e.fire("FullscreenStateChanged",{state:n})}),Oe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ne=tinymce.util.Tools.resolve("tinymce.Env"),Te=tinymce.util.Tools.resolve("tinymce.util.Delay"),be="data-ephox-mobile-fullscreen-style",xe="position:absolute!important;",Ce="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Ae=Ne.os.isAndroid(),De=function(n,r){function t(e){return function(n){var r=S(n,"style"),t=void 0===r?"no-styles":r.trim();t!==e&&(y(n,be,t),y(n,"style",e))}}var o=function(e,n,r){return function(e,n,r){return g(function(e,n){for(var r=W(n)?n:c,t=e.dom(),o=[];null!==t.parentNode&&void 0!==t.parentNode;){var i=t.parentNode,u=q.fromDom(i);if(o.push(u),!0===r(u))break;t=i}return o}(e,r),n)}(e,function(e){return C(e,"*")},void 0)}(n),i=function(e,n){return function(e){for(var n=[],r=0,t=e.length;r<t;++r){if(!I(e[r]))throw new Error("Arr.flatten item "+r+" was not an array, input: "+e);V.apply(n,e[r])}return n}(v(e,n))}(o,function(e){return D(e,"*:not(.tox-silver-sink)")}),u=function(n){var r=function(n,r){var t=n.dom(),o=e.window.getComputedStyle(t).getPropertyValue(r),i=""!==o||function(e){var n=G(e)?e.dom().parentNode:e.dom();return null!=n&&n.ownerDocument.body.contains(n)}(n)?o:$(t,r);return null===i?void 0:i}(n,"background-color");return void 0!==r&&""!==r?"background-color:"+r+"!important":"background-color:rgb(255,255,255)!important;"}(r);h(i,t("display:none!important;")),h(o,t(xe+Ce+u)),t((!0===Ae?"":xe)+Ce+u)(n)},Fe=function(){h(function(n,r){var t=void 0===r?e.document:r.dom();return function(e){return e.nodeType!==ge&&e.nodeType!==pe||0===e.childElementCount}(t)?[]:v(t.querySelectorAll(n),q.fromDom)}("["+be+"]"),function(e){var n=S(e,be);"no-styles"!==n?y(e,"style",n):E(e,"style"),E(e,be)})},Me=Oe.DOM,_e=e.window.visualViewport,Re=Ne.browser.isSafari()&&void 0!==_e?(_=function(){var e=i(P.none());return{clear:function(){e.set(P.none())},set:function(n){e.set(P.some(n))},isSet:function(){return e.get().isSome()},on:function(n){e.get().each(n)}}}(),R=Te.throttle(function(){e.document.body.scrollTop=0,e.document.documentElement.scrollTop=0,e.window.requestAnimationFrame(function(){_.on(function(n){return function(n,r){var t=n.dom();!function(e,n){for(var r=j(e),t=0,o=r.length;t<o;t++){var i=r[t];n(e[i],i)}}(r,function(n,r){!function(n,r,t){if(!k(t))throw e.console.error("Invalid call to CSS.set. Property ",r,":: Value ",t,":: Element ",n),new Error("CSS value must be a string: "+t);w(n)&&n.style.setProperty(r,t)}(t,r,n)})}(n,{top:_e.offsetTop+"px",left:_e.offsetLeft+"px",height:_e.height+"px",width:_e.width+"px"})})})},50),{bind:function(e){_.set(e),R(),_e.addEventListener("resize",R),_e.addEventListener("scroll",R)},unbind:function(){_.on(function(){_e.removeEventListener("scroll",R),_e.removeEventListener("resize",R)}),_.clear()}}):{bind:n,unbind:n,update:n},Le=function(n,r){var t,o,i,u=e.document.body,c=e.document.documentElement;o=n.getContainer();var s=q.fromDom(o),a=r.get(),f=q.fromDom(n.getBody()),l=Ne.deviceType.isTouch();if(t=o.style,i=n.getContentAreaContainer().firstChild.style,a)i.width=a.iframeWidth,i.height=a.iframeHeight,t.width=a.containerWidth,t.height=a.containerHeight,t.top=a.containerTop,t.left=a.containerLeft,l&&Fe(),Me.removeClass(u,"tox-fullscreen"),Me.removeClass(c,"tox-fullscreen"),Me.removeClass(o,"tox-fullscreen"),function(n){e.window.scrollTo(n.x,n.y)}(a.scrollPos),r.set(null),Ee(n,!1),Re.unbind(),n.off("remove",Re.unbind);else{var d={scrollPos:function(){var n=function(n){var r=void 0===n?e.window:n,t=r.visualViewport;if(void 0!==t)return A(t.pageLeft,t.pageTop,t.width,t.height);var o=q.fromDom(r.document),i=r.document.documentElement,u=function(n){var r=void 0!==n?n.dom():e.document,t=r.body.scrollLeft||r.documentElement.scrollLeft,o=r.body.scrollTop||r.documentElement.scrollTop;return Se(t,o)}(o),c=i.clientWidth,s=i.clientHeight;return A(u.left(),u.top(),c,s)}(e.window);return{x:n.x(),y:n.y()}}(),containerWidth:t.width,containerHeight:t.height,containerTop:t.top,containerLeft:t.left,iframeWidth:i.width,iframeHeight:i.height};l&&De(s,f),i.width=i.height="100%",t.width=t.height="",Me.addClass(u,"tox-fullscreen"),Me.addClass(c,"tox-fullscreen"),Me.addClass(o,"tox-fullscreen"),Re.bind(s),n.on("remove",Re.unbind),r.set(d),Ee(n,!0)}};u.add("fullscreen",function(e){var n=i(null);return e.settings.inline||(function(e,n){e.addCommand("mceFullScreen",function(){Le(e,n)})}(e,n),function(e,n){e.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:F(e,n)}),e.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return e.execCommand("mceFullScreen")},onSetup:F(e,n)})}(e,n),e.addShortcut("Meta+Shift+F","","mceFullScreen")),function(e){return{isFullscreen:function(){return null!==e.get()}}}(n)})}(window);
//# sourceMappingURL=plugin.min.js.map
