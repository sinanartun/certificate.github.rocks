{"version":3,"sources":["insertdatetime/plugin.min.js"],"names":["n","e","getParam","translate","r","a","t","length","i","Date","replace","getFullYear","getYear","getMonth","getDate","getHours","getMinutes","getSeconds","f","d","s","getDay","l","tinymce","util","Tools","resolve","o","u","c","split","p","m","test","dom","getParent","selection","getStart","create","datetime","parentNode","insertBefore","remove","select","collapse","insertContent","g","M","S","get","set","clone","add","addCommand","y","ui","registry","addSplitButton","icon","tooltip","fetch","map","type","text","value","onAction","arguments","onItemAction","addNestedMenuItem","getSubmenuItems"],"mappings":"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","file":"plugin.min.js","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.1.0 (2019-10-17)\n */\n!function(){\"use strict\";function n(e){return e.getParam(\"insertdatetime_timeformat\",e.translate(\"%H:%M:%S\"))}function r(e){return e.getParam(\"insertdatetime_formats\",[\"%H:%M:%S\",\"%Y-%m-%d\",\"%I:%M:%S %p\",\"%D\"])}function a(e,t){if((e=\"\"+e).length<t)for(var n=0;n<t-e.length;n++)e=\"0\"+e;return e}function i(e,t,n){return n=n||new Date,t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(\"%D\",\"%m/%d/%Y\")).replace(\"%r\",\"%I:%M:%S %p\")).replace(\"%Y\",\"\"+n.getFullYear())).replace(\"%y\",\"\"+n.getYear())).replace(\"%m\",a(n.getMonth()+1,2))).replace(\"%d\",a(n.getDate(),2))).replace(\"%H\",\"\"+a(n.getHours(),2))).replace(\"%M\",\"\"+a(n.getMinutes(),2))).replace(\"%S\",\"\"+a(n.getSeconds(),2))).replace(\"%I\",\"\"+((n.getHours()+11)%12+1))).replace(\"%p\",n.getHours()<12?\"AM\":\"PM\")).replace(\"%B\",\"\"+e.translate(f[n.getMonth()]))).replace(\"%b\",\"\"+e.translate(d[n.getMonth()]))).replace(\"%A\",\"\"+e.translate(s[n.getDay()]))).replace(\"%a\",\"\"+e.translate(l[n.getDay()]))).replace(\"%%\",\"%\")}var e=tinymce.util.Tools.resolve(\"tinymce.PluginManager\"),t=function(e){return e.getParam(\"insertdatetime_dateformat\",e.translate(\"%Y-%m-%d\"))},o=n,u=r,c=function(e){var t=r(e);return 0<t.length?t[0]:n(e)},m=function(e){return e.getParam(\"insertdatetime_element\",!1)},l=\"Sun Mon Tue Wed Thu Fri Sat Sun\".split(\" \"),s=\"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday\".split(\" \"),d=\"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec\".split(\" \"),f=\"January February March April May June July August September October November December\".split(\" \"),p=function(e,t){if(m(e)){var n=i(e,t),r=void 0;r=/%[HMSIp]/.test(t)?i(e,\"%Y-%m-%dT%H:%M\"):i(e,\"%Y-%m-%d\");var a=e.dom.getParent(e.selection.getStart(),\"time\");a?function(e,t,n,r){var a=e.dom.create(\"time\",{datetime:n},r);t.parentNode.insertBefore(a,t),e.dom.remove(t),e.selection.select(a,!0),e.selection.collapse(!1)}(e,a,r,n):e.insertContent('<time datetime=\"'+r+'\">'+n+\"</time>\")}else e.insertContent(i(e,t))},g=i,y=function(e){e.addCommand(\"mceInsertDate\",function(){p(e,t(e))}),e.addCommand(\"mceInsertTime\",function(){p(e,o(e))})},M=tinymce.util.Tools.resolve(\"tinymce.util.Tools\"),S=function(e){function t(){return n}var n=e;return{get:t,set:function(e){n=e},clone:function(){return S(t())}}},v=function(n){var t=u(n),r=S(c(n));n.ui.registry.addSplitButton(\"insertdatetime\",{icon:\"insert-time\",tooltip:\"Insert date/time\",select:function(e){return e===r.get()},fetch:function(e){e(M.map(t,function(e){return{type:\"choiceitem\",text:g(n,e),value:e}}))},onAction:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];p(n,r.get())},onItemAction:function(e,t){r.set(t),p(n,t)}});n.ui.registry.addNestedMenuItem(\"insertdatetime\",{icon:\"insert-time\",text:\"Date/time\",getSubmenuItems:function(){return M.map(t,function(e){return{type:\"menuitem\",text:g(n,e),onAction:function(e){return function(){r.set(e),p(n,e)}}(e)}})}})};!function h(){e.add(\"insertdatetime\",function(e){y(e),v(e)})}()}();"]}